"use strict";(self.webpackChunkultragroup_hotel=self.webpackChunkultragroup_hotel||[]).push([[162],{8162:(q,p,u)=>{u.r(p),u.d(p,{AuthModule:()=>F});var c=u(6814),t=u(95),s=u(9228),e=u(5879),g=u(304),f=u(7104);function h(o,d){1&o&&(e.TgZ(0,"div",13),e._uU(1," Campo obligatorio "),e.qZA())}function b(o,d){1&o&&(e.TgZ(0,"div",13),e._uU(1," Correo Electr\xf3nico no v\xe1lido "),e.qZA())}function x(o,d){1&o&&(e.TgZ(0,"div",13),e._uU(1," Campo obligatorio "),e.qZA())}const Z=function(){return["/register"]};function y(o,d){1&o&&(e.TgZ(0,"div",31),e._uU(1," Campo obligatorio "),e.qZA())}function w(o,d){1&o&&(e.TgZ(0,"div",31),e._uU(1," El nombre debe tener al menos 2 caracteres "),e.qZA())}const _=function(){return["/login"]},T=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class o{constructor(){this.fb=(0,e.f3M)(t.qu),this.authService=(0,e.f3M)(g.e),this.afs=(0,e.f3M)(f.ST),this.router=(0,e.f3M)(s.F0),this.loginForm=this.fb.group({email:["",[t.kI.required,t.kI.email]],password:["",t.kI.required]})}onSubmit(){if(this.loginForm.invalid)return;const{email:l,password:r}=this.loginForm.value;this.authService.login(l,r).then(({user:n})=>{n&&this.afs.collection("users").doc(n.uid).valueChanges().subscribe(i=>{localStorage.setItem("userId",i.uid),"guest"===i.rol?this.router.navigate(["/guest"]):"admin"===i.rol&&this.router.navigate(["/admin"])})}).catch(n=>{console.error(n)})}static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:19,vars:7,consts:[[1,"flex","justify-center","items-center","h-screen"],[1,"w-full","max-w-xs","mx-auto"],[1,"bg-white","shadow-md","rounded","px-8","pt-6","pb-8","mb-4",3,"formGroup","ngSubmit"],[1,"mb-4"],["for","email",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["formControlName","email","id","email","type","email","placeholder","Correo Electr\xf3nico",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["class","text-red-500 text-xs italic",4,"ngIf"],[1,"mb-6"],["for","password",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["formControlName","password","id","password","type","password","placeholder","Contrase\xf1a",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","items-center","justify-between"],["type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"disabled"],[1,"text-blue-500","hover:text-blue-700",3,"routerLink"],[1,"text-red-500","text-xs","italic"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",3)(4,"label",4),e._uU(5," Correo Electr\xf3nico "),e.qZA(),e._UZ(6,"input",5),e.YNc(7,h,2,0,"div",6),e.YNc(8,b,2,0,"div",6),e.qZA(),e.TgZ(9,"div",7)(10,"label",8),e._uU(11," Contrase\xf1a "),e.qZA(),e._UZ(12,"input",9),e.YNc(13,x,2,0,"div",6),e.qZA(),e.TgZ(14,"div",10)(15,"button",11),e._uU(16," Iniciar Sesi\xf3n "),e.qZA(),e.TgZ(17,"a",12),e._uU(18,"Crear cuenta"),e.qZA()()()()()),2&r){let i,a,m;e.xp6(2),e.Q6J("formGroup",n.loginForm),e.xp6(5),e.Q6J("ngIf",(null==(i=n.loginForm.get("email"))?null:i.hasError("required"))&&(null==(i=n.loginForm.get("email"))?null:i.touched)),e.xp6(1),e.Q6J("ngIf",(null==(a=n.loginForm.get("email"))?null:a.hasError("email"))&&(null==(a=n.loginForm.get("email"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(m=n.loginForm.get("password"))?null:m.hasError("required"))&&(null==(m=n.loginForm.get("password"))?null:m.touched)),e.xp6(2),e.Q6J("disabled",!n.loginForm.valid),e.xp6(2),e.Q6J("routerLink",e.DdM(6,Z))}},dependencies:[c.O5,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,s.rH],encapsulation:2})}return o})(),title:"Login"},{path:"register",component:(()=>{class o{constructor(){this.fb=(0,e.f3M)(t.qu),this.authService=(0,e.f3M)(g.e),this.registrationForm=this.fb.group({firstName:["",t.kI.required],lastName:["",t.kI.required],birthdate:["",t.kI.required],gender:["",t.kI.required],documentType:["",t.kI.required],documentNumber:["",t.kI.required],email:["",[t.kI.required,t.kI.email]],contactPhone:["",t.kI.required],password:["",t.kI.required]})}onSubmit(){this.registrationForm.invalid||this.authService.register({rol:"guest",...this.registrationForm.value}).then(l=>{console.log(l)}).catch(l=>{console.error(l)})}static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-register"]],decls:58,vars:6,consts:[[1,"flex","justify-center","items-center","h-screen"],[1,"w-full","max-w-xs","mx-auto"],[1,"bg-white","shadow-md","rounded","px-8","pt-6","pb-8","mb-4",3,"formGroup","ngSubmit"],[1,"mb-4"],["for","firstName",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["formControlName","firstName","id","firstName","placeholder","Nombre","type","text",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["class","text-red-500 text-xs italic",4,"ngIf"],["for","lastName",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["formControlName","lastName","id","lastName","placeholder","Apellido","type","text",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","birthdate",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["formControlName","birthdate","id","birthdate","placeholder","Fecha de Nacimiento","type","date",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","gender",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["formControlName","gender","id","gender",1,"block","appearance-none","w-full","bg-white","border","border-gray-400","text-gray-700","py-3","px-4","pr-8","rounded","leading-tight","focus:outline-none","focus:shadow-outline"],["value","male"],["value","female"],["for","documentType",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["formControlName","documentType","id","documentType",1,"block","appearance-none","w-full","bg-white","border","border-gray-400","text-gray-700","py-3","px-4","pr-8","rounded","leading-tight","focus:outline-none","focus:shadow-outline"],["value","idCard"],["value","passport"],["value","driverLicense"],["for","documentNumber",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["formControlName","documentNumber","id","documentNumber","placeholder","N\xfamero de Documento","type","text",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","email",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["formControlName","email","id","email","type","email","placeholder","Correo Electr\xf3nico",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","contactPhone",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["formControlName","contactPhone","id","contactPhone","placeholder","Tel\xe9fono de Contacto","type","tel",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["formControlName","password","id","password","placeholder","Contrase\xf1a","type","password",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","items-center","justify-end"],["type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"disabled"],[1,"text-center","text-gray-500","text-sm","mt-4"],[1,"text-blue-500","hover:text-blue-700",3,"routerLink"],[1,"text-red-500","text-xs","italic"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",3)(4,"label",4),e._uU(5," Nombre "),e.qZA(),e._UZ(6,"input",5),e.YNc(7,y,2,0,"div",6),e.YNc(8,w,2,0,"div",6),e.qZA(),e.TgZ(9,"div",3)(10,"label",7),e._uU(11," Apellido "),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.TgZ(13,"div",3)(14,"label",9),e._uU(15," Fecha de Nacimiento "),e.qZA(),e._UZ(16,"input",10),e.qZA(),e.TgZ(17,"div",3)(18,"label",11),e._uU(19," G\xe9nero "),e.qZA(),e.TgZ(20,"select",12)(21,"option",13),e._uU(22,"Masculino"),e.qZA(),e.TgZ(23,"option",14),e._uU(24,"Femenino"),e.qZA()()(),e.TgZ(25,"div",3)(26,"label",15),e._uU(27," Tipo de Documento "),e.qZA(),e.TgZ(28,"select",16)(29,"option",17),e._uU(30,"C\xe9dula de ciudadan\xeda"),e.qZA(),e.TgZ(31,"option",18),e._uU(32,"Pasaporte"),e.qZA(),e.TgZ(33,"option",19),e._uU(34,"Licencia de Conducir"),e.qZA()()(),e.TgZ(35,"div",3)(36,"label",20),e._uU(37," N\xfamero de Documento "),e.qZA(),e._UZ(38,"input",21),e.qZA(),e.TgZ(39,"div",3)(40,"label",22),e._uU(41," Correo Electr\xf3nico "),e.qZA(),e._UZ(42,"input",23),e.qZA(),e.TgZ(43,"div",3)(44,"label",24),e._uU(45," Tel\xe9fono de Contacto "),e.qZA(),e._UZ(46,"input",25),e.qZA(),e.TgZ(47,"div",3)(48,"label",24),e._uU(49," Contrase\xf1a "),e.qZA(),e._UZ(50,"input",26),e.qZA(),e.TgZ(51,"div",27)(52,"button",28),e._uU(53," Registrar "),e.qZA()(),e.TgZ(54,"p",29),e._uU(55,"\xbfYa tienes una cuenta? "),e.TgZ(56,"a",30),e._uU(57,"Inicia sesi\xf3n"),e.qZA()()()()()),2&r){let i,a;e.xp6(2),e.Q6J("formGroup",n.registrationForm),e.xp6(5),e.Q6J("ngIf",(null==(i=n.registrationForm.get("firstName"))?null:i.hasError("required"))&&(null==(i=n.registrationForm.get("firstName"))?null:i.touched)),e.xp6(1),e.Q6J("ngIf",(null==(a=n.registrationForm.get("firstName"))?null:a.hasError("minlength"))&&(null==(a=n.registrationForm.get("firstName"))?null:a.touched)),e.xp6(44),e.Q6J("disabled",!n.registrationForm.valid),e.xp6(4),e.Q6J("routerLink",e.DdM(5,_))}},dependencies:[c.O5,t._Y,t.YN,t.Kr,t.Fj,t.EJ,t.JJ,t.JL,t.sg,t.u,s.rH],encapsulation:2})}return o})(),title:"Register"}];let C=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[s.Bz.forChild(T),s.Bz]})}return o})(),F=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[c.ez,t.UX,C]})}return o})()}}]);